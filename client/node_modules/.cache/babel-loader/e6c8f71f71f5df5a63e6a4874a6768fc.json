{"ast":null,"code":"import _regeneratorRuntime from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/src/components/LoginButton.js\";\nimport React, { Component } from 'react';\nimport { Button, IconButton, Menu, MenuItem, ListItemText } from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport { withAuth } from '@okta/okta-react';\n\nvar LoginButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginButton, _Component);\n\n  function LoginButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      authenticated: null,\n      user: null,\n      menuAnchorEl: null\n    };\n    _this.checkAuthentication =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var authenticated, user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.auth.isAuthenticated();\n\n            case 2:\n              authenticated = _context.sent;\n\n              if (!(authenticated !== _this.state.authenticated)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 6;\n              return _this.props.auth.getUser();\n\n            case 6:\n              user = _context.sent;\n\n              _this.setState({\n                authenticated: authenticated,\n                user: user\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.login = function () {\n      return _this.props.auth.login();\n    };\n\n    _this.logout = function () {\n      _this.handleMenuClose();\n\n      _this.props.auth.logout();\n    };\n\n    _this.handleMenuOpen = function (event) {\n      return _this.setState({\n        menuAnchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleMenuClose = function () {\n      return _this.setState({\n        menuAnchorEl: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginButton, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.checkAuthentication();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkAuthentication();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          authenticated = _this$state.authenticated,\n          user = _this$state.user,\n          menuAnchorEl = _this$state.menuAnchorEl;\n      if (authenticated == null) return null;\n      if (!authenticated) return React.createElement(Button, {\n        color: \"inherit\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Login\");\n      var menuPosition = {\n        vertical: 'top',\n        horizontal: 'right'\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        onClick: this.handleMenuOpen,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(AccountCircle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        anchorEl: menuAnchorEl,\n        anchorOrigin: menuPosition,\n        transformOrigin: menuPosition,\n        open: !!menuAnchorEl,\n        onClose: this.handleMenuClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Logout\",\n        secondary: user && user.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return LoginButton;\n}(Component);\n\nexport default withAuth(LoginButton);","map":{"version":3,"sources":["/Users/schmitzaddie/Documents/Bootcamp/Project3/LittleLopersTracker/client/src/components/LoginButton.js"],"names":["React","Component","Button","IconButton","Menu","MenuItem","ListItemText","AccountCircle","withAuth","LoginButton","state","authenticated","user","menuAnchorEl","checkAuthentication","props","auth","isAuthenticated","getUser","setState","login","logout","handleMenuClose","handleMenuOpen","event","currentTarget","menuPosition","vertical","horizontal","name"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,MADF,EAEEC,UAFF,EAGEC,IAHF,EAIEC,QAJF,EAKEC,YALF,QAMO,mBANP;AAOA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;IAEMC,W;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,aAAa,EAAE,IADT;AAENC,MAAAA,IAAI,EAAE,IAFA;AAGNC,MAAAA,YAAY,EAAE;AAHR,K;UAcRC,mB;;;;6BAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQ,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,eAAhB,EADR;;AAAA;AACdN,cAAAA,aADc;;AAAA,oBAEhBA,aAAa,KAAK,MAAKD,KAAL,CAAWC,aAFb;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGC,MAAKI,KAAL,CAAWC,IAAX,CAAgBE,OAAhB,EAHD;;AAAA;AAGZN,cAAAA,IAHY;;AAIlB,oBAAKO,QAAL,CAAc;AAAER,gBAAAA,aAAa,EAAbA,aAAF;AAAiBC,gBAAAA,IAAI,EAAJA;AAAjB,eAAd;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAQtBQ,K,GAAQ;AAAA,aAAM,MAAKL,KAAL,CAAWC,IAAX,CAAgBI,KAAhB,EAAN;AAAA,K;;UACRC,M,GAAS,YAAM;AACb,YAAKC,eAAL;;AACA,YAAKP,KAAL,CAAWC,IAAX,CAAgBK,MAAhB;AACD,K;;UAEDE,c,GAAiB,UAAAC,KAAK;AAAA,aAAI,MAAKL,QAAL,CAAc;AAAEN,QAAAA,YAAY,EAAEW,KAAK,CAACC;AAAtB,OAAd,CAAJ;AAAA,K;;UACtBH,e,GAAkB;AAAA,aAAM,MAAKH,QAAL,CAAc;AAAEN,QAAAA,YAAY,EAAE;AAAhB,OAAd,CAAN;AAAA,K;;;;;;;yCAvBG;AACnB,WAAKC,mBAAL;AACD;;;wCAEmB;AAClB,WAAKA,mBAAL;AACD;;;6BAmBQ;AAAA,wBACuC,KAAKJ,KAD5C;AAAA,UACCC,aADD,eACCA,aADD;AAAA,UACgBC,IADhB,eACgBA,IADhB;AAAA,UACsBC,YADtB,eACsBA,YADtB;AAGP,UAAIF,aAAa,IAAI,IAArB,EAA2B,OAAO,IAAP;AAC3B,UAAI,CAACA,aAAL,EAAoB,OAAO,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,KAAKS,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AAEpB,UAAMM,YAAY,GAAG;AACnBC,QAAAA,QAAQ,EAAE,KADS;AAEnBC,QAAAA,UAAU,EAAE;AAFO,OAArB;AAKA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKL,cAA1B;AAA0C,QAAA,KAAK,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,IAAD;AACE,QAAA,QAAQ,EAAEV,YADZ;AAEE,QAAA,YAAY,EAAEa,YAFhB;AAGE,QAAA,eAAe,EAAEA,YAHnB;AAIE,QAAA,IAAI,EAAE,CAAC,CAACb,YAJV;AAKE,QAAA,OAAO,EAAE,KAAKS,eALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,QAAD;AAAU,QAAA,OAAO,EAAE,KAAKD,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AACE,QAAA,OAAO,EAAC,QADV;AAEE,QAAA,SAAS,EAAET,IAAI,IAAIA,IAAI,CAACiB,IAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAPF,CAJF,CADF;AAqBD;;;;EAhEuB5B,S;;AAmE1B,eAAeO,QAAQ,CAACC,WAAD,CAAvB","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport { withAuth } from '@okta/okta-react';\n\nclass LoginButton extends Component {\n  state = {\n    authenticated: null,\n    user: null,\n    menuAnchorEl: null,\n  };\n\n  componentDidUpdate() {\n    this.checkAuthentication();\n  }\n\n  componentDidMount() {\n    this.checkAuthentication();\n  }\n\n  checkAuthentication = async () => {\n    const authenticated = await this.props.auth.isAuthenticated();\n    if (authenticated !== this.state.authenticated) {\n      const user = await this.props.auth.getUser();\n      this.setState({ authenticated, user });\n    }\n  }\n\n  login = () => this.props.auth.login();\n  logout = () => {\n    this.handleMenuClose();\n    this.props.auth.logout();\n  };\n\n  handleMenuOpen = event => this.setState({ menuAnchorEl: event.currentTarget });\n  handleMenuClose = () => this.setState({ menuAnchorEl: null });\n\n  render() {\n    const { authenticated, user, menuAnchorEl } = this.state;\n\n    if (authenticated == null) return null;\n    if (!authenticated) return <Button color=\"inherit\" onClick={this.login}>Login</Button>;\n\n    const menuPosition = {\n      vertical: 'top',\n      horizontal: 'right',\n    };\n\n    return (\n      <div>\n        <IconButton onClick={this.handleMenuOpen} color=\"inherit\">\n          <AccountCircle />\n        </IconButton>\n        <Menu\n          anchorEl={menuAnchorEl}\n          anchorOrigin={menuPosition}\n          transformOrigin={menuPosition}\n          open={!!menuAnchorEl}\n          onClose={this.handleMenuClose}\n        >\n          <MenuItem onClick={this.logout}>\n            <ListItemText\n              primary=\"Logout\"\n              secondary={user && user.name}\n            />\n          </MenuItem>\n        </Menu>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(LoginButton);"]},"metadata":{},"sourceType":"module"}